const a0_0x166f5d=a0_0x120d;(function(_0x3b3bee,_0x1770e9){const _0x37b7a4=a0_0x120d,_0x3d0842=_0x3b3bee();while(!![]){try{const _0x1bc61e=parseInt(_0x37b7a4(0x20b))/0x1*(-parseInt(_0x37b7a4(0x1f9))/0x2)+parseInt(_0x37b7a4(0x201))/0x3+-parseInt(_0x37b7a4(0x207))/0x4+-parseInt(_0x37b7a4(0x1f5))/0x5+-parseInt(_0x37b7a4(0x1ee))/0x6+-parseInt(_0x37b7a4(0x1f8))/0x7+-parseInt(_0x37b7a4(0x1fc))/0x8*(-parseInt(_0x37b7a4(0x1ff))/0x9);if(_0x1bc61e===_0x1770e9)break;else _0x3d0842['push'](_0x3d0842['shift']());}catch(_0x5d5425){_0x3d0842['push'](_0x3d0842['shift']());}}}(a0_0x158e,0x43cb7));const {default:makeWASocket,useMultiFileAuthState,DisconnectReason,fetchLatestBaileysVersion,downloadContentFromMessage,Browsers}=require(a0_0x166f5d(0x1f0)),qrcode=require(a0_0x166f5d(0x1eb)),pino=require(a0_0x166f5d(0x216)),fs=require('fs'),path=require(a0_0x166f5d(0x20d)),{exec}=require('child_process');async function connectToWhatsApp(){const _0x29f98e=a0_0x166f5d,{state:_0x45c520,saveCreds:_0xbeb624}=await useMultiFileAuthState(_0x29f98e(0x1fa)),{version:_0x3f36e9}=await fetchLatestBaileysVersion(),_0x36fb09=makeWASocket({'version':_0x3f36e9,'auth':_0x45c520,'logger':pino({'level':_0x29f98e(0x21f)}),'printQRInTerminal':!![],'browser':Browsers[_0x29f98e(0x1f4)](_0x29f98e(0x1f7))});_0x36fb09['ev']['on'](_0x29f98e(0x21e),_0xbeb624),_0x36fb09['ev']['on'](_0x29f98e(0x213),_0x366746=>{const _0x23ded3=_0x29f98e,{connection:_0x1855cb,lastDisconnect:_0x1910ac,qr:_0x4a6149}=_0x366746;_0x4a6149&&(console[_0x23ded3(0x1f6)](_0x23ded3(0x1e7)),qrcode['generate'](_0x4a6149,{'small':!![]}));_0x1855cb==='open'&&console[_0x23ded3(0x1f6)](_0x23ded3(0x212));if(_0x1855cb==='close'){const _0x48366d=_0x1910ac[_0x23ded3(0x214)]?.[_0x23ded3(0x1ed)]?.[_0x23ded3(0x215)]!==DisconnectReason[_0x23ded3(0x1f1)];console['log']('Conexión\x20cerrada.\x20Reconectando:',_0x48366d),_0x48366d?connectToWhatsApp():(console[_0x23ded3(0x214)]('¡Desconexión\x20fatal!\x20La\x20sesión\x20se\x20cerró.'),process[_0x23ded3(0x20e)](0x1));}}),_0x36fb09['ev']['on'](_0x29f98e(0x203),async _0x3f1d6b=>{const _0x2f990f=_0x29f98e,_0x205258=_0x3f1d6b[_0x2f990f(0x208)][0x0];if(!_0x205258['message']||_0x205258[_0x2f990f(0x20a)][_0x2f990f(0x1fb)])return;const _0x60afd7=_0x205258[_0x2f990f(0x211)][_0x2f990f(0x200)]||_0x205258[_0x2f990f(0x211)][_0x2f990f(0x1e8)]?.[_0x2f990f(0x21a)];if(!_0x60afd7)return;const _0x1ee163=_0x60afd7[_0x2f990f(0x1ef)]()[_0x2f990f(0x1ea)](),_0x1cd03a=_0x205258[_0x2f990f(0x20a)]['remoteJid'],_0x385fdd=_0x205258['message'][_0x2f990f(0x1e8)]?.[_0x2f990f(0x1fd)]?.[_0x2f990f(0x205)];if(_0x1ee163===_0x2f990f(0x1e5)){console['log'](_0x2f990f(0x204)+_0x1cd03a);if(!_0x385fdd){await _0x36fb09[_0x2f990f(0x206)](_0x1cd03a,{'text':_0x2f990f(0x20c)});return;}if(_0x385fdd[_0x2f990f(0x209)]){console[_0x2f990f(0x1f6)]('Procesando\x20imagen\x20con\x20FFmpeg\x20(modo\x20recorte)...');try{const _0x2d2c00=await downloadContentFromMessage(_0x385fdd[_0x2f990f(0x209)],_0x2f990f(0x21b));let _0x40955a=Buffer[_0x2f990f(0x21d)]([]);for await(const _0x59ce0b of _0x2d2c00){_0x40955a=Buffer[_0x2f990f(0x210)]([_0x40955a,_0x59ce0b]);}const _0x405879=path[_0x2f990f(0x1e6)](__dirname,'temp_input.jpg'),_0x57cd58=path['join'](__dirname,_0x2f990f(0x1f3));fs[_0x2f990f(0x202)](_0x405879,_0x40955a);const _0x2109a0='ffmpeg\x20-i\x20'+_0x405879+_0x2f990f(0x1f2)+_0x57cd58;exec(_0x2109a0,async(_0x25068f,_0x10c78b,_0xd0c8c4)=>{const _0x3e6f90=_0x2f990f;fs['unlinkSync'](_0x405879);if(_0x25068f){console['error'](_0x3e6f90(0x20f),_0x25068f),console[_0x3e6f90(0x214)](_0x3e6f90(0x1ec),_0xd0c8c4),await _0x36fb09['sendMessage'](_0x1cd03a,{'text':_0x3e6f90(0x1e9)});if(fs[_0x3e6f90(0x1fe)](_0x57cd58))fs['unlinkSync'](_0x57cd58);return;}await _0x36fb09['sendMessage'](_0x1cd03a,{'sticker':{'url':_0x57cd58}}),console[_0x3e6f90(0x1f6)](_0x3e6f90(0x217)),fs[_0x3e6f90(0x219)](_0x57cd58);});}catch(_0xa6a4bb){console[_0x2f990f(0x214)]('Error\x20al\x20crear\x20el\x20sticker:',_0xa6a4bb['message']),await _0x36fb09[_0x2f990f(0x206)](_0x1cd03a,{'text':_0x2f990f(0x218)});}}else await _0x36fb09[_0x2f990f(0x206)](_0x1cd03a,{'text':'Solo\x20puedo\x20convertir\x20*imágenes*\x20en\x20stickers.'});}});}function a0_0x158e(){const _0x1cf3ff=['contextInfo','existsSync','414LfsVxY','conversation','242751kdCMPu','writeFileSync','messages.upsert','Comando\x20!sticker\x20recibido\x20de\x20','quotedMessage','sendMessage','1195180gxPnWV','messages','imageMessage','key','209878AIoxsy','Debes\x20*responder*\x20a\x20una\x20imagen\x20con\x20el\x20comando\x20`!sticker`','path','exit','Error\x20con\x20FFmpeg:','concat','message','¡Bot\x20conectado\x20y\x20en\x20línea!','connection.update','error','statusCode','pino','¡Sticker\x20(recortado)\x20enviado!','¡Ups!\x20No\x20pude\x20descargar\x20la\x20imagen.','unlinkSync','text','image','Iniciando\x20el\x20bot...','from','creds.update','info','!sticker','join','¡QR\x20recibido!\x20Escanéalo\x20con\x20tu\x20teléfono:','extendedTextMessage','¡Ups!\x20Algo\x20salió\x20mal\x20al\x20convertir\x20la\x20imagen\x20con\x20FFmpeg.','trim','qrcode-terminal','FFmpeg\x20STDERR:','output','2336898PpOVLt','toLowerCase','@whiskeysockets/baileys','loggedOut','\x20-vf\x20\x22scale=512:512:force_original_aspect_ratio=increase,crop=512:512\x22\x20-an\x20-vcodec\x20libwebp\x20','temp_output.webp','macOS','286920YaJRnC','log','Desktop','261394dyXuyB','2CmjGPx','auth_info_baileys','fromMe','206896kKINya'];a0_0x158e=function(){return _0x1cf3ff;};return a0_0x158e();}function a0_0x120d(_0x3a12fa,_0x2d0938){const _0x158e32=a0_0x158e();return a0_0x120d=function(_0x120d06,_0x277a81){_0x120d06=_0x120d06-0x1e5;let _0x4d0718=_0x158e32[_0x120d06];return _0x4d0718;},a0_0x120d(_0x3a12fa,_0x2d0938);}console[a0_0x166f5d(0x1f6)](a0_0x166f5d(0x21c)),connectToWhatsApp();