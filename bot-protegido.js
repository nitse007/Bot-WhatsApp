const a0_0x3fedff=a0_0x2139;function a0_0x4674(){const _0x36e568=['842lWsVTv','imageMessage','collection','messages.upsert','sendMessage','replace','readData','Debes\x20*responder*\x20a\x20una\x20imagen\x20con\x20el\x20comando\x20`!sticker`','1041576wPiTbV','entries','582ZXSbBC','Error\x20al\x20escribir\x20en\x20MongoDB','updateOne','634416AdODGL','toBuffer','¡QR\x20recibido!\x20Escanéalo\x20con\x20tu\x20teléfono.\x20Si\x20estás\x20en\x20Render,\x20copia\x20este\x20texto\x20en\x20los\x20logs:','output','Conectando\x20a\x20MongoDB...','from','Conexión\x20a\x20MongoDB\x20exitosa.','key','1085995FCiCYE','messages','¡Ups!\x20Esta\x20función\x20(sticker)\x20está\x20deshabilitada\x20en\x20el\x20servidor.','Error\x20al\x20borrar\x20de\x20MongoDB','¡Bot\x20conectado\x20y\x20en\x20línea!','statusCode','bot_whatsapp','close','mongodb+srv://nitse:3OPTKa2RfoTjogTn@nitse.lkimjbq.mongodb.net/?appName=nitse','2374UuXBhi','push','loggedOut','creds','message','Creado\x20por\x20Bot','76132eAraNO','keys','findOne','connect','9830PxVgow','fromMe','616nczjUw','info','remoteJid','open','qrcode-terminal','extendedTextMessage','_id','459wXFbgk','state','connection.update','mongodb','¡Sticker\x20enviado!','Desktop','error','creds.update','contextInfo','macOS','value','Procesando\x20imagen\x20con\x20wa-sticker-formatter...','wa-sticker-formatter','trim','4025040JXKdUp','concat','log','Conexión\x20cerrada.\x20Reconectando:','toLowerCase','4Fjpuxf','deleteOne'];a0_0x4674=function(){return _0x36e568;};return a0_0x4674();}(function(_0x369e97,_0x58764e){const _0x490de2=a0_0x2139,_0x43fa97=_0x369e97();while(!![]){try{const _0xd8a41b=parseInt(_0x490de2(0xdf))/0x1*(parseInt(_0x490de2(0x107))/0x2)+parseInt(_0x490de2(0x100))/0x3+-parseInt(_0x490de2(0x105))/0x4*(-parseInt(_0x490de2(0xd6))/0x5)+-parseInt(_0x490de2(0xcb))/0x6*(-parseInt(_0x490de2(0xe5))/0x7)+parseInt(_0x490de2(0xc9))/0x8+parseInt(_0x490de2(0xf2))/0x9*(parseInt(_0x490de2(0xe9))/0xa)+parseInt(_0x490de2(0xeb))/0xb*(-parseInt(_0x490de2(0xce))/0xc);if(_0xd8a41b===_0x58764e)break;else _0x43fa97['push'](_0x43fa97['shift']());}catch(_0x4b3d1b){_0x43fa97['push'](_0x43fa97['shift']());}}}(a0_0x4674,0xcb603));const {default:makeWASocket,useMultiFileAuthState,DisconnectReason,fetchLatestBaileysVersion,downloadContentFromMessage,Browsers}=require('@whiskeysockets/baileys'),qrcode=require(a0_0x3fedff(0xef)),pino=require('pino'),{Sticker}=require(a0_0x3fedff(0xfe)),{MongoClient}=require(a0_0x3fedff(0xf5)),MONGO_URI=a0_0x3fedff(0xde),MONGO_DB_NAME=a0_0x3fedff(0xdc),MONGO_COLLECTION_NAME='auth_session';async function createMongoAuthStore(){const _0x4d70b9=a0_0x3fedff;console[_0x4d70b9(0x102)](_0x4d70b9(0xd2));const _0x5a3473=new MongoClient(MONGO_URI,{'useNewUrlParser':!![],'useUnifiedTopology':!![]});await _0x5a3473[_0x4d70b9(0xe8)](),console[_0x4d70b9(0x102)](_0x4d70b9(0xd4));const _0x4b3d4d=_0x5a3473['db'](MONGO_DB_NAME)[_0x4d70b9(0x109)](MONGO_COLLECTION_NAME),_0x33ea9f=_0x242553=>_0x242553[_0x4d70b9(0xc6)](/:/g,'__'),_0xfc865f=_0x290a82=>_0x290a82[_0x4d70b9(0xc6)](/__/g,':'),_0x49482b={async 'readData'(_0x4345f5){const _0x466c50=_0x4d70b9;try{const _0x5f3f8a=await _0x4b3d4d[_0x466c50(0xe7)]({'_id':_0x33ea9f(_0x4345f5)});if(_0x5f3f8a)return _0x5f3f8a[_0x466c50(0xfc)];return null;}catch(_0x49e3a1){return console['error']('Error\x20al\x20leer\x20de\x20MongoDB',_0x49e3a1),null;}},async 'writeData'(_0x5e4bb4,_0x251efb){const _0x25e5c5=_0x4d70b9;try{await _0x4b3d4d[_0x25e5c5(0xcd)]({'_id':_0x33ea9f(_0x5e4bb4)},{'$set':{'value':_0x251efb}},{'upsert':!![]});}catch(_0x3b0b50){console[_0x25e5c5(0xf8)](_0x25e5c5(0xcc),_0x3b0b50);}},async 'removeData'(_0x405e81){const _0x460809=_0x4d70b9;try{await _0x4b3d4d[_0x460809(0x106)]({'_id':_0x33ea9f(_0x405e81)});}catch(_0x193f57){console[_0x460809(0xf8)](_0x460809(0xd9),_0x193f57);}},async 'listData'(){const _0x28ec70=_0x4d70b9,_0x13a42c=_0x4b3d4d['find']({}),_0x3a28ae=[];for await(const _0x545a23 of _0x13a42c){_0x3a28ae[_0x28ec70(0xe0)](_0xfc865f(_0x545a23[_0x28ec70(0xf1)]));}return _0x3a28ae;}},_0xf8dad7={'state':{'creds':null,'keys':{'get':async(_0x124f89,_0x53fc6b)=>{const _0x132ba7=_0x4d70b9,_0x58c96a={};for(const _0x33685c of _0x53fc6b){const _0x4509dd=_0x124f89+'-'+_0x33685c,_0x34550f=await _0x49482b[_0x132ba7(0xc7)](_0x4509dd);_0x34550f&&(_0x58c96a[_0x33685c]=_0x34550f);}return _0x58c96a;},'set':async _0x2eded1=>{const _0x438610=_0x4d70b9;for(const [_0x47d923,_0x471ba2]of Object[_0x438610(0xca)](_0x2eded1)){for(const [_0x4356fa,_0xa7df21]of Object[_0x438610(0xca)](_0x471ba2)){const _0x22dda1=_0x47d923+'-'+_0x4356fa;await _0x49482b['writeData'](_0x22dda1,_0xa7df21);}}}}},'saveCreds':async _0x4ea97e=>{const _0x3a7239=_0x4d70b9;await _0x49482b['writeData']('creds',_0x4ea97e),_0xf8dad7[_0x3a7239(0xf3)][_0x3a7239(0xe2)]=_0x4ea97e;}};return _0xf8dad7['state'][_0x4d70b9(0xe2)]=await _0x49482b[_0x4d70b9(0xc7)](_0x4d70b9(0xe2)),_0xf8dad7;}function a0_0x2139(_0x5ab761,_0x654bd9){const _0x4674ab=a0_0x4674();return a0_0x2139=function(_0x2139f9,_0x3e110a){_0x2139f9=_0x2139f9-0xc4;let _0x118062=_0x4674ab[_0x2139f9];return _0x118062;},a0_0x2139(_0x5ab761,_0x654bd9);}async function connectToWhatsApp(){const _0x204e3c=a0_0x3fedff,{state:_0x814204,saveCreds:_0x348903}=await createMongoAuthStore(),{version:_0x3d13ef}=await fetchLatestBaileysVersion(),_0x1bc9a5=makeWASocket({'version':_0x3d13ef,'auth':{'creds':_0x814204[_0x204e3c(0xe2)],'keys':_0x814204[_0x204e3c(0xe6)]},'logger':pino({'level':_0x204e3c(0xec)}),'printQRInTerminal':!![],'browser':Browsers[_0x204e3c(0xfb)](_0x204e3c(0xf7))});_0x1bc9a5['ev']['on'](_0x204e3c(0xf9),_0x348903),_0x1bc9a5['ev']['on'](_0x204e3c(0xf4),_0x494686=>{const _0x54586a=_0x204e3c,{connection:_0x4a2cf5,lastDisconnect:_0x5d59e0,qr:_0x4f9a27}=_0x494686;_0x4f9a27&&(console[_0x54586a(0x102)](_0x54586a(0xd0)),qrcode['generate'](_0x4f9a27,{'small':!![]}));_0x4a2cf5===_0x54586a(0xee)&&console['log'](_0x54586a(0xda));if(_0x4a2cf5===_0x54586a(0xdd)){const _0x2b7f09=_0x5d59e0[_0x54586a(0xf8)]?.[_0x54586a(0xd1)]?.[_0x54586a(0xdb)]!==DisconnectReason[_0x54586a(0xe1)];console[_0x54586a(0x102)](_0x54586a(0x103),_0x2b7f09),_0x2b7f09?connectToWhatsApp():(console[_0x54586a(0xf8)]('¡Desconexión\x20fatal!\x20La\x20sesión\x20se\x20cerró\x20(probablemente\x20escaneaste\x20en\x20otro\x20lugar).'),process['exit'](0x1));}}),_0x1bc9a5['ev']['on'](_0x204e3c(0xc4),async _0x13f00f=>{const _0x398b86=_0x204e3c,_0x8b648a=_0x13f00f[_0x398b86(0xd7)][0x0];if(!_0x8b648a[_0x398b86(0xe3)]||_0x8b648a[_0x398b86(0xd5)][_0x398b86(0xea)])return;const _0x2b3052=_0x8b648a[_0x398b86(0xe3)]['conversation']||_0x8b648a[_0x398b86(0xe3)]['extendedTextMessage']?.['text'];if(!_0x2b3052)return;const _0x4bd463=_0x2b3052[_0x398b86(0x104)]()[_0x398b86(0xff)](),_0xa57775=_0x8b648a['key'][_0x398b86(0xed)],_0x473004=_0x8b648a[_0x398b86(0xe3)][_0x398b86(0xf0)]?.[_0x398b86(0xfa)]?.['quotedMessage'];if(_0x4bd463==='!sticker'){console[_0x398b86(0x102)]('Comando\x20!sticker\x20recibido\x20de\x20'+_0xa57775);if(!_0x473004){await _0x1bc9a5[_0x398b86(0xc5)](_0xa57775,{'text':_0x398b86(0xc8)});return;}if(_0x473004[_0x398b86(0x108)]){console[_0x398b86(0x102)](_0x398b86(0xfd));try{const _0x12c343=await downloadContentFromMessage(_0x473004['imageMessage'],'image');let _0x324916=Buffer[_0x398b86(0xd3)]([]);for await(const _0x175a45 of _0x12c343){_0x324916=Buffer[_0x398b86(0x101)]([_0x324916,_0x175a45]);}const _0x56701c=new Sticker(_0x324916,{'pack':'Bot\x20-\x20ia\x20-\x20nitse','author':_0x398b86(0xe4),'type':'default','quality':0x4b}),_0xda8f1a=await _0x56701c[_0x398b86(0xcf)]();await _0x1bc9a5['sendMessage'](_0xa57775,{'sticker':_0xda8f1a}),console[_0x398b86(0x102)](_0x398b86(0xf6));}catch(_0x85a042){console[_0x398b86(0xf8)]('Error\x20al\x20crear\x20el\x20sticker\x20(probablemente\x20falta\x20ffmpeg):',_0x85a042[_0x398b86(0xe3)]),await _0x1bc9a5['sendMessage'](_0xa57775,{'text':_0x398b86(0xd8)});}}else await _0x1bc9a5[_0x398b86(0xc5)](_0xa57775,{'text':'Solo\x20puedo\x20convertir\x20*imágenes*\x20en\x20stickers.'});}});}connectToWhatsApp();